/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/bw.js":
/*!*******************!*\
  !*** ./src/bw.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _js_FilterGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./js/FilterGenerator.js */ \"./src/js/FilterGenerator.js\");\n/* harmony import */ var _bw_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bw.scss */ \"./src/bw.scss\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\nvar DEBUG = true;\nvar BW = /*#__PURE__*/function () {\n  function BW() {\n    var _this = this;\n    _classCallCheck(this, BW);\n    this._lang = ['fr', 'es', 'de'].indexOf(navigator.language.substring(0, 2)) !== -1 ? navigator.language.substring(0, 2) : 'en';\n    this._nls = null;\n    this._band = null;\n    this._mainScroll = null;\n    this._version = '1.3.0'; // Based on v1.1.0 of BandWebsite\n\n    if (DEBUG === true) {\n      console.log(\"nac.band v\".concat(this._version, \" : Begin website initialization\"));\n    }\n    this._fetchLang().then(this._fetchBandInfo.bind(this)).then(this._init.bind(this)).then(this._buildPage.bind(this)).then(this._events.bind(this))[\"catch\"](function (err) {\n      // Error are displayed even if DEBUG is set to false, to notify end user to contact support\n      console.error(\"nac.band v\".concat(_this._version, \" : Fatal error during initialization, please contact support :\\n\"), err);\n    })[\"finally\"](function () {\n      if (DEBUG === true) {\n        console.log(\"nac.band v\".concat(_this._version, \" : Website initialization done\"));\n      }\n    });\n  }\n  _createClass(BW, [{\n    key: \"_fetchLang\",\n    value: function _fetchLang() {\n      var _this2 = this;\n      if (DEBUG === true) {\n        console.log(\"1. Fetch language keys with \".concat(this._lang, \" locale\"));\n      }\n      return new Promise(function (resolve, reject) {\n        fetch(\"assets/json/\".concat(_this2._lang, \".json\")).then(function (data) {\n          data.json().then(function (nlsKeys) {\n            if (DEBUG === true) {\n              console.log(\"2. Language keys successfully retrieven\");\n            }\n            _this2._nls = nlsKeys;\n            resolve();\n          })[\"catch\"](function (err) {\n            if (DEBUG === true) {\n              console.log(\"Err. Can't parse language keys, the JSON file may be is invalid\");\n            }\n            reject(err);\n          });\n        })[\"catch\"](function (err) {\n          if (DEBUG === true) {\n            console.log(\"Err. Couldn't retrieve language keys\");\n          }\n          reject(err);\n        });\n      });\n    }\n  }, {\n    key: \"_fetchBandInfo\",\n    value: function _fetchBandInfo() {\n      var _this3 = this;\n      if (DEBUG === true) {\n        console.log(\"1. Fetch band links and releases\");\n      }\n      return new Promise(function (resolve, reject) {\n        fetch(\"assets/json/band.json\").then(function (data) {\n          data.json().then(function (bandKeys) {\n            if (DEBUG === true) {\n              console.log(\"2. Links and releases successfully retrieven\");\n            }\n            _this3._band = bandKeys;\n            resolve();\n          })[\"catch\"](function (err) {\n            if (DEBUG === true) {\n              console.log(\"Err. Can't parse language keys, the JSON file may be is invalid\");\n            }\n            reject(err);\n          });\n        })[\"catch\"](function (err) {\n          if (DEBUG === true) {\n            console.log(\"Err. Couldn't retrieve language keys\");\n          }\n          reject(err);\n        });\n      });\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      var _this4 = this;\n      if (DEBUG === true) {\n        console.log(\"5. Updatde css to take color and style value into account\");\n      }\n      return new Promise(function (resolve, reject) {\n        // Only update cs variables if precised in band.json, keep default otherwise\n        if (_this4._band.styles) {\n          document.documentElement.style.setProperty('--mainColor', _this4._band.styles.mainColor);\n          document.documentElement.style.setProperty('--gradientStart', _this4._band.styles.gradientStart);\n          document.documentElement.style.setProperty('--gradientEnd', _this4._band.styles.gradientEnd);\n          // Create filter css rule from main color color\n          var rgb = _js_FilterGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Color.hexToRgb(_this4._band.styles.mainColor);\n          var color = new _js_FilterGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Color(rgb[0], rgb[1], rgb[2]);\n          var solver = new _js_FilterGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Solver(color);\n          var result = solver.solve();\n          document.documentElement.style.setProperty('--imageFilter', result.filter);\n          resolve();\n        } else {\n          reject(new Error('Not styles found in JSON file'));\n        }\n      });\n    }\n  }, {\n    key: \"_buildPage\",\n    value: function _buildPage() {\n      var _this5 = this;\n      if (DEBUG === true) {\n        console.log(\"6. Build HTML DOM depending on the page type\");\n      }\n      return new Promise(function (resolve, reject) {\n        if (document.body.dataset.type === 'index') {\n          _this5._buildIndexPage();\n        } else if (document.body.dataset.type === 'listen') {\n          _this5._buildListenPage();\n        } else if (document.body.dataset.type === 'tree') {\n          _this5._buildTreePage();\n        } else {\n          if (DEBUG === true) {\n            console.log(\"Err. Unknown page type to init the website with\");\n          }\n          reject(new Error('Invalid <body> type. Should be either index, listen or tree'));\n        }\n        resolve();\n      });\n    }\n  }, {\n    key: \"_buildIndexPage\",\n    value: function _buildIndexPage() {\n      var _this6 = this;\n      if (DEBUG === true) {\n        console.log(\"6. Init website with the artist main page\");\n      }\n      document.querySelector('#band-name').innerHTML = this._nls.band.name;\n      document.querySelector('#band-picture').src = \"./assets/img/artists/\".concat(this._band.bandPicture);\n      document.querySelector('#band-desc').innerHTML = this._nls.band.desc;\n      document.querySelector('#listen-link').innerHTML = \"<img src=\\\"./assets/img/controls/disc.svg\\\" alt=\\\"listen\\\">\".concat(this._nls.listenLink);\n      document.querySelector('#tree-link').innerHTML = \"<img src=\\\"./assets/img/controls/find.svg\\\" alt=\\\"listen\\\">\".concat(this._nls.treeLink);\n      document.querySelector('#musicians-section').innerHTML = this._nls.musicians;\n      document.querySelector('#works-section').innerHTML = this._nls.works;\n      document.querySelector('#videos-section').innerHTML = this._nls.videos;\n      for (var i = 0; i < this._band.members.length; ++i) {\n        var container = document.createElement('DIV');\n        container.dataset.artist = this._band.members[i].fullName;\n        var picture = document.createElement('IMG');\n        picture.src = \"./assets/img/artists/\".concat(this._band.members[i].picture);\n        var label = document.createElement('P');\n        label.innerHTML = \"\\n        \".concat(this._band.members[i].fullName, \"<br>\\n        <span>\\xA9 \").concat(this._band.members[i].pictureCredit, \"</span><br>\\n        <span class=\\\"learn-more\\\">\").concat(this._nls.learnMore, \"</span>\\n      \");\n        container.addEventListener('click', this._artistModal.bind(this, this._band.members[i]));\n        container.appendChild(picture);\n        container.appendChild(label);\n        document.getElementById('artists').appendChild(container);\n      }\n      if (this._band.pastMembers.length > 0) {\n        var _container = document.createElement('DIV');\n        _container.classList.add('past-members');\n        var _label = document.createElement('P');\n        _label.innerHTML = \"\\n        \".concat(this._nls.pastMembers, \"<br>\\n        <span id=\\\"learn-more\\\" class=\\\"learn-more\\\">\").concat(this._nls.learnMore, \"</span>\\n      \");\n        _container.addEventListener('click', this._pastMembersModal.bind(this, this._band.pastMembers));\n        _container.appendChild(_label);\n        document.getElementById('artists').appendChild(_container);\n      }\n      for (var _i = 0; _i < this._band.releases.length; ++_i) {\n        if (this._band.releases[_i].showOnMainPage === true) {\n          var _container2 = document.createElement('DIV');\n          _container2.dataset.url = this._getReleaseLink(this._band.releases[_i].links);\n          var _picture = document.createElement('IMG');\n          _picture.src = \"./assets/img/releases/\".concat(this._band.releases[_i].cover);\n          var _label2 = document.createElement('P');\n          _label2.innerHTML = \"\\n          \".concat(this._band.releases[_i].title, \"<br>\\n          <span>\").concat(this._band.releases[_i].artist, \"</span><br>\\n          <span>\").concat(this._buildReleaseDate(this._band.releases[_i].date), \"</span>\\n        \");\n          _container2.addEventListener('click', this._openReleaseVideo.bind(this, _container2.dataset.url));\n          _container2.appendChild(_picture);\n          _container2.appendChild(_label2);\n          document.getElementById('releases').appendChild(_container2);\n        }\n      }\n      // Force timeout to wait for draw, then raf to display scroll\n      setTimeout(function () {\n        _this6._mainScroll = new window.ScrollBar({\n          target: document.body,\n          style: {\n            color: _this6._band.styles.mainColor\n          }\n        });\n        // Force raf after scroll creation to make scrollbar properly visible\n        requestAnimationFrame(function () {\n          _this6._mainScroll.updateScrollbar();\n        });\n      }, 100);\n    }\n  }, {\n    key: \"_buildListenPage\",\n    value: function _buildListenPage() {\n      var _this7 = this;\n      if (DEBUG === true) {\n        console.log(\"6. Init website with the artist listen page\");\n      }\n      // Update page nls\n      document.querySelector('#release-from').innerHTML = this._nls.from;\n      document.querySelector('#listen-online').innerHTML = this._nls.listenOnline;\n      document.querySelector('#see-more-links').innerHTML = this._nls.seeMore;\n      document.querySelector('#published-on').innerHTML = this._nls.publishedOn;\n      // Internal useful variables\n      var progress = document.getElementById('current-progress');\n      var overlay = document.getElementById('modal-overlay');\n      var audio = new Audio();\n      var activeRelease = 0;\n      // Define internal functions to update UI according to selected release\n      var updateRelease = function updateRelease() {\n        // Reset audio playback and playback UI\n        audio.pause();\n        audio.currentTime = 0;\n        progress.style.width = '0';\n        // Update active release\n        var release = _this7._band.releases[activeRelease];\n        // Update blurred backgrounds\n        document.getElementById('release-background').style.backgroundImage = \"url('assets/img/releases/\".concat(release.cover, \"')\");\n        document.getElementById('release-background-bottom').style.backgroundImage = \"url('assets/img/releases/\".concat(release.cover, \"')\");\n        // Update release primitive information\n        document.getElementById('release-cover').src = \"assets/img/releases/\".concat(release.cover);\n        document.getElementById('release-duration').innerHTML = release.duration;\n        document.getElementById('release-title').innerHTML = release.title;\n        document.getElementById('release-artist').innerHTML = release.artist;\n        document.getElementById('release-date').innerHTML = _this7._buildReleaseDate(release.date);\n        document.getElementById('label-link').innerHTML = release.label;\n        document.getElementById('label-link').href = release.labelLink;\n        // Update view links according to the selected release\n        for (var i = 0; i < release.links.length; ++i) {\n          if (release.links[i].url === '') {\n            // Link type has no url and should be disabled\n            document.getElementById(release.links[i].type).classList.add('disabled'); // Only disabled button\n          } else {\n            // Update link information\n            document.getElementById(release.links[i].type).classList.remove('disabled'); // Clear previous disabled class\n            document.getElementById(release.links[i].type).href = release.links[i].url; // Update url href link\n          }\n        }\n        // Create tracks and append them to the concerned DOM\n        document.getElementById('release-tracklist').innerHTML = _this7._buildTrackCredits(release.tracks);\n        // Update justify content if scroll exists\n        if (document.getElementById('release-tracklist').scrollHeight > document.getElementById('release-tracklist').clientHeight) {\n          document.getElementById('release-tracklist').style.display = 'inherit';\n          setTimeout(function () {\n            var trackScroll = new window.ScrollBar({\n              target: document.getElementById('release-tracklist'),\n              style: {\n                color: _this7._band.styles.mainColor\n              }\n            });\n            // Force raf after scroll creation to make scrollbar properly visible\n            requestAnimationFrame(function () {\n              trackScroll.updateScrollbar();\n            });\n          }, 100);\n        }\n        audio = new Audio(\"assets/audio/\".concat(release.audio));\n        handlePlayback(audio);\n        // Update pager selected item\n        document.getElementById('release-pager').children[activeRelease].classList.add('selected');\n      };\n      // Handle the audio playback and events\n      var handlePlayback = function handlePlayback() {\n        var button = document.getElementById('play-pause');\n        button.src = 'assets/img/controls/play.svg';\n        var progressTrack = document.getElementById('progress-bar');\n        var progress = document.getElementById('current-progress');\n        var playing = false;\n        // Handle click on play/pause button\n        button.addEventListener('click', function () {\n          if (playing === true) {\n            playing = false;\n            button.src = 'assets/img/controls/play.svg';\n            audio.pause();\n          } else {\n            playing = true;\n            button.src = 'assets/img/controls/pause.svg';\n            audio.play();\n          }\n        });\n        // Update progress on audio playing\n        audio.addEventListener('timeupdate', function () {\n          progress.style.width = \"\".concat(audio.currentTime / audio.duration * 100, \"%\");\n        });\n        // Reset progress and audio when playback reached the end of tracks\n        audio.addEventListener('ended', function () {\n          audio.currentTime = 0;\n          progress.style.width = '0';\n          button.src = 'assets/img/controls/play.svg';\n          playing = false;\n        });\n        // User manually seek a part of audio\n        progressTrack.addEventListener('click', function (event) {\n          if (playing === true) {\n            var box = progressTrack.getBoundingClientRect();\n            audio.currentTime = (event.clientX - box.left) / box.width * audio.duration;\n            progress.style.width = \"\".concat(audio.currentTime / audio.duration * 100, \"%\");\n          }\n        });\n      };\n      // Previous and next release event handling if more than one release\n      if (this._band.releases.length === 1) {\n        document.getElementById('release-previous').style.display = 'none';\n        document.getElementById('release-next').style.display = 'none';\n      } else {\n        document.getElementById('release-previous').addEventListener('click', function (e) {\n          e.target.blur();\n          document.getElementById('release-pager').children[activeRelease].classList.remove('selected');\n          activeRelease = (_this7._band.releases.length + activeRelease - 1) % _this7._band.releases.length;\n          updateRelease();\n        });\n        document.getElementById('release-next').addEventListener('click', function (e) {\n          e.target.blur();\n          document.getElementById('release-pager').children[activeRelease].classList.remove('selected');\n          activeRelease = (activeRelease + 1) % _this7._band.releases.length;\n          updateRelease();\n        });\n        for (var i = 0; i < this._band.releases.length; ++i) {\n          var releasePage = document.createElement('A');\n          releasePage.innerHTML = '●';\n          releasePage.addEventListener('click', function (e) {\n            document.getElementById('release-pager').children[activeRelease].classList.remove('selected');\n            var parent = e.target.parentNode;\n            activeRelease = Array.prototype.indexOf.call(parent.children, e.target);\n            updateRelease();\n          });\n          document.getElementById('release-pager').appendChild(releasePage);\n        }\n      }\n      // Blur modal event\n      document.getElementById('modal-overlay').addEventListener('click', function () {\n        overlay.style.opacity = 0;\n        setTimeout(function () {\n          overlay.innerHTML = '';\n          overlay.style.display = 'none';\n        }, 400);\n      });\n      // Open modal event\n      document.getElementById('see-more-links').addEventListener('click', function () {\n        fetch('assets/html/seemoremodal.html').then(function (data) {\n          overlay.style.display = 'flex';\n          data.text().then(function (htmlString) {\n            overlay.appendChild(document.createRange().createContextualFragment(htmlString));\n            var release = _this7._band.releases[activeRelease];\n            for (var _i2 = 0; _i2 < release.moreLinks.length; ++_i2) {\n              if (release.moreLinks[_i2].url === '') {\n                // Link type has no url and should be disabled\n                document.getElementById(release.moreLinks[_i2].type).classList.add('disabled'); // Only disabled button\n              } else {\n                // Update link information\n                document.getElementById(release.moreLinks[_i2].type).classList.remove('disabled'); // Clear previous disabled class\n                document.getElementById(release.moreLinks[_i2].type).href = release.moreLinks[_i2].url; // Update url href link\n              }\n            }\n\n            requestAnimationFrame(function () {\n              return overlay.style.opacity = 1;\n            });\n          });\n        })[\"catch\"](function (e) {\n          return console.error(e);\n        });\n      });\n      // Update UI with first release available in array\n      updateRelease();\n    }\n  }, {\n    key: \"_buildTreePage\",\n    value: function _buildTreePage() {\n      var _this8 = this;\n      if (DEBUG === true) {\n        console.log(\"6. Init website with the artist link tree\");\n      }\n      // Iterate over link to create link content\n      for (var i = 0; i < this._band.links.length; ++i) {\n        document.querySelector('#link-wrapper').innerHTML += \"\\n      <a href=\\\"\".concat(this._band.links[i].url, \"\\\" class=\\\"link\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">\\n        <img src=\\\"assets/img/logo/\").concat(this._band.links[i].type, \".svg\\\" width=\\\"25px\\\">\\n        <p>\").concat(this._band.links[i].name, \"</p>\\n      </a>\\n      \");\n      }\n      // Force timeout to wait for draw, then raf to display scroll\n      setTimeout(function () {\n        _this8._mainScroll = new window.ScrollBar({\n          target: document.getElementById('link-wrapper'),\n          style: {\n            color: _this8._band.styles.mainColor\n          }\n        });\n        // Force raf after scroll creation to make scrollbar properly visible\n        requestAnimationFrame(function () {\n          _this8._mainScroll.updateScrollbar();\n        });\n      }, 100);\n    }\n  }, {\n    key: \"_events\",\n    value: function _events() {\n      // Blur modal event\n      document.getElementById('modal-overlay').addEventListener('click', this._closeModal.bind(this));\n    }\n\n    // Utils for main page\n  }, {\n    key: \"_artistModal\",\n    value: function _artistModal(artist) {\n      var _this9 = this;\n      var overlay = document.getElementById('modal-overlay');\n      // Open modal event\n      fetch(\"assets/html/biomodal.html\").then(function (data) {\n        overlay.style.display = 'flex';\n        data.text().then(function (htmlString) {\n          var container = document.createRange().createContextualFragment(htmlString);\n          container.querySelector('#artist-name').innerHTML = artist.fullName;\n          container.querySelector('#artist-picture').src = \"./assets/img/artists/\".concat(artist.picture);\n          for (var i = 0; i < artist.roles.length; ++i) {\n            container.querySelector('#artist-roles').innerHTML += _this9._nls.roles[artist.roles[i]];\n            if (i + 1 < artist.roles.length) {\n              container.querySelector('#artist-roles').innerHTML += ', ';\n            }\n          }\n          container.querySelector('#artist-roles').innerHTML += \" \".concat(_this9._nls.since, \" \").concat(artist.range.split('-')[0]);\n          container.querySelector('#artist-bio').innerHTML = artist.bio[_this9._lang];\n          container.querySelector('#close-modal-button').innerHTML = _this9._nls.close;\n          overlay.appendChild(container);\n          requestAnimationFrame(function () {\n            return overlay.style.opacity = 1;\n          });\n        });\n      })[\"catch\"](function (e) {\n        return console.error(e);\n      });\n    }\n  }, {\n    key: \"_pastMembersModal\",\n    value: function _pastMembersModal(pastMembers) {\n      var _this10 = this;\n      var overlay = document.getElementById('modal-overlay');\n      // Open modal event\n      fetch(\"assets/html/pastmembersmodal.html\").then(function (data) {\n        overlay.style.display = 'flex';\n        data.text().then(function (htmlString) {\n          var container = document.createRange().createContextualFragment(htmlString);\n          container.querySelector('#modal-title').innerHTML = _this10._nls.pastMembers;\n          var artistsContainer = container.querySelector('#past-members-container');\n          for (var i = 0; i < pastMembers.length; ++i) {\n            var member = document.createElement('DIV');\n            member.classList.add('past-member');\n            var roles = '';\n            for (var j = 0; j < pastMembers[i].roles.length; ++j) {\n              roles += _this10._nls.roles[pastMembers[i].roles[j]];\n              if (j + 1 < pastMembers[i].roles.length) {\n                roles += ', ';\n              }\n            }\n            roles += \" \".concat(_this10._nls.from, \" \").concat(pastMembers[i].range.split('-')[0], \" \").concat(_this10._nls.to, \" \").concat(pastMembers[i].range.split('-')[1]);\n            member.innerHTML = \"\\n          <div><img src=\\\"./assets/img/artists/\".concat(pastMembers[i].picture, \"\\\"><i>\\xA9 \").concat(pastMembers[i].pictureCredit, \"</i></div>\\n          <div class=\\\"past-member-infos\\\">\\n            <span><h3>\").concat(pastMembers[i].fullName, \"</h3> \\u2013 <i>\").concat(roles, \"</i></span>\\n            <p>\").concat(pastMembers[i].bio[_this10._lang], \"</p>\\n          </div>\\n          \");\n            artistsContainer.appendChild(member);\n          }\n          container.querySelector('#close-modal-button').innerHTML = _this10._nls.close;\n          overlay.appendChild(container);\n          // Force timeout to wait for draw, then raf to display scroll\n          setTimeout(function () {\n            var scroll = new window.ScrollBar({\n              target: overlay.querySelector('#past-members-container'),\n              style: {\n                color: _this10._band.styles.mainColor\n              }\n            });\n            // Force raf after scroll creation to make scrollbar properly visible\n            requestAnimationFrame(function () {\n              scroll.updateScrollbar();\n            });\n          }, 100);\n          // Open modal\n          requestAnimationFrame(function () {\n            return overlay.style.opacity = 1;\n          });\n        });\n      })[\"catch\"](function (e) {\n        return console.error(e);\n      });\n    }\n  }, {\n    key: \"_closeModal\",\n    value: function _closeModal(e) {\n      if (e.originalTarget.id !== 'modal-overlay' && e.originalTarget.className !== 'close-modal') {\n        return;\n      }\n      var overlay = document.getElementById('modal-overlay');\n      if (overlay.style.display === 'flex') {\n        overlay.style.opacity = 0;\n        setTimeout(function () {\n          overlay.innerHTML = '';\n          overlay.style = '';\n        }, 400);\n      }\n    }\n  }, {\n    key: \"_getReleaseLink\",\n    value: function _getReleaseLink(links) {\n      var url = '';\n      for (var i = 0; i < links.length; ++i) {\n        if (links[i].url !== '') {\n          url = links[i].url;\n          if (links[i].type === 'youtube') {\n            return links[i].url;\n          }\n        }\n      }\n      return url;\n    }\n  }, {\n    key: \"_openReleaseVideo\",\n    value: function _openReleaseVideo(url) {\n      window.open(url, '_blank').focus();\n    }\n\n    // Utils for listen page\n  }, {\n    key: \"_buildReleaseDate\",\n    value: function _buildReleaseDate(date) {\n      var dateArray = date.split('-');\n      if (this._lang === 'en') {\n        return \"\".concat(this._nls.months[dateArray[1] - 1], \" \").concat(dateArray[0].replace(/^0+/, ''), \", \").concat(dateArray[2]);\n      } else {\n        return \"\".concat(dateArray[0].replace(/^0+/, ''), \" \").concat(this._nls.months[dateArray[1] - 1], \" \").concat(dateArray[2]);\n      }\n    }\n  }, {\n    key: \"_buildTrackCredits\",\n    value: function _buildTrackCredits(tracks) {\n      var dom = '';\n      for (var i = 0; i < tracks.length; ++i) {\n        dom += \"<h3>\".concat(i + 1, \". \").concat(tracks[i].title, \" \\u2013 \").concat(tracks[i].duration, \"</h3><p>\");\n        if (tracks[i].composer !== '') {\n          // Add composer if any\n          dom += \"<i>\".concat(this._nls.composer, \"</i> : \").concat(tracks[i].composer, \"<br>\");\n        }\n        if (tracks[i].author !== '') {\n          // Add author if any\n          dom += \"<i>\".concat(this._nls.author, \"</i> : \").concat(tracks[i].author);\n        }\n        dom += \"</p>\";\n      }\n      return dom;\n    }\n  }]);\n  return BW;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BW);\n\n//# sourceURL=webpack://BW/./src/bw.js?");

/***/ }),

/***/ "./src/js/FilterGenerator.js":
/*!***********************************!*\
  !*** ./src/js/FilterGenerator.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Color: () => (/* binding */ Color),\n/* harmony export */   Solver: () => (/* binding */ Solver)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n// Real MVP : Barrett Sonntag (@sosuke on CodePen)\n// Code taken from https://codepen.io/sosuke/pen/Pjoqqp, licensed under MIT Licensed.\n// Slightly adapted to match our needs for BandWebsite\nvar Color = /*#__PURE__*/function () {\n  function Color(r, g, b) {\n    _classCallCheck(this, Color);\n    this.set(r, g, b);\n  }\n  _createClass(Color, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"rgb(\".concat(Math.round(this.r), \", \").concat(Math.round(this.g), \", \").concat(Math.round(this.b), \")\");\n    }\n  }, {\n    key: \"set\",\n    value: function set(r, g, b) {\n      this.r = this.clamp(r);\n      this.g = this.clamp(g);\n      this.b = this.clamp(b);\n    }\n  }, {\n    key: \"hueRotate\",\n    value: function hueRotate() {\n      var angle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      angle = angle / 180 * Math.PI;\n      var sin = Math.sin(angle);\n      var cos = Math.cos(angle);\n      this.multiply([0.213 + cos * 0.787 - sin * 0.213, 0.715 - cos * 0.715 - sin * 0.715, 0.072 - cos * 0.072 + sin * 0.928, 0.213 - cos * 0.213 + sin * 0.143, 0.715 + cos * 0.285 + sin * 0.140, 0.072 - cos * 0.072 - sin * 0.283, 0.213 - cos * 0.213 - sin * 0.787, 0.715 - cos * 0.715 + sin * 0.715, 0.072 + cos * 0.928 + sin * 0.072]);\n    }\n  }, {\n    key: \"grayscale\",\n    value: function grayscale() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      this.multiply([0.2126 + 0.7874 * (1 - value), 0.7152 - 0.7152 * (1 - value), 0.0722 - 0.0722 * (1 - value), 0.2126 - 0.2126 * (1 - value), 0.7152 + 0.2848 * (1 - value), 0.0722 - 0.0722 * (1 - value), 0.2126 - 0.2126 * (1 - value), 0.7152 - 0.7152 * (1 - value), 0.0722 + 0.9278 * (1 - value)]);\n    }\n  }, {\n    key: \"sepia\",\n    value: function sepia() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      this.multiply([0.393 + 0.607 * (1 - value), 0.769 - 0.769 * (1 - value), 0.189 - 0.189 * (1 - value), 0.349 - 0.349 * (1 - value), 0.686 + 0.314 * (1 - value), 0.168 - 0.168 * (1 - value), 0.272 - 0.272 * (1 - value), 0.534 - 0.534 * (1 - value), 0.131 + 0.869 * (1 - value)]);\n    }\n  }, {\n    key: \"saturate\",\n    value: function saturate() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      this.multiply([0.213 + 0.787 * value, 0.715 - 0.715 * value, 0.072 - 0.072 * value, 0.213 - 0.213 * value, 0.715 + 0.285 * value, 0.072 - 0.072 * value, 0.213 - 0.213 * value, 0.715 - 0.715 * value, 0.072 + 0.928 * value]);\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply(matrix) {\n      var newR = this.clamp(this.r * matrix[0] + this.g * matrix[1] + this.b * matrix[2]);\n      var newG = this.clamp(this.r * matrix[3] + this.g * matrix[4] + this.b * matrix[5]);\n      var newB = this.clamp(this.r * matrix[6] + this.g * matrix[7] + this.b * matrix[8]);\n      this.r = newR;\n      this.g = newG;\n      this.b = newB;\n    }\n  }, {\n    key: \"brightness\",\n    value: function brightness() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      this.linear(value);\n    }\n  }, {\n    key: \"contrast\",\n    value: function contrast() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      this.linear(value, -(0.5 * value) + 0.5);\n    }\n  }, {\n    key: \"linear\",\n    value: function linear() {\n      var slope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var intercept = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this.r = this.clamp(this.r * slope + intercept * 255);\n      this.g = this.clamp(this.g * slope + intercept * 255);\n      this.b = this.clamp(this.b * slope + intercept * 255);\n    }\n  }, {\n    key: \"invert\",\n    value: function invert() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      this.r = this.clamp((value + this.r / 255 * (1 - 2 * value)) * 255);\n      this.g = this.clamp((value + this.g / 255 * (1 - 2 * value)) * 255);\n      this.b = this.clamp((value + this.b / 255 * (1 - 2 * value)) * 255);\n    }\n  }, {\n    key: \"hsl\",\n    value: function hsl() {\n      // Code taken from https://stackoverflow.com/a/9493060/2688027, licensed under CC BY-SA.\n      var r = this.r / 255;\n      var g = this.g / 255;\n      var b = this.b / 255;\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var h,\n        s,\n        l = (max + min) / 2;\n      if (max === min) {\n        h = s = 0;\n      } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n          case r:\n            h = (g - b) / d + (g < b ? 6 : 0);\n            break;\n          case g:\n            h = (b - r) / d + 2;\n            break;\n          case b:\n            h = (r - g) / d + 4;\n            break;\n        }\n        h /= 6;\n      }\n      return {\n        h: h * 100,\n        s: s * 100,\n        l: l * 100\n      };\n    }\n  }, {\n    key: \"clamp\",\n    value: function clamp(value) {\n      if (value > 255) {\n        value = 255;\n      } else if (value < 0) {\n        value = 0;\n      }\n      return value;\n    }\n  }], [{\n    key: \"hexToRgb\",\n    value: function hexToRgb(hex) {\n      // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n      var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n      hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n        return r + r + g + g + b + b;\n      });\n      var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n      return result ? [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)] : null;\n    }\n  }]);\n  return Color;\n}();\nvar Solver = /*#__PURE__*/function () {\n  function Solver(target) {\n    _classCallCheck(this, Solver);\n    this.target = target;\n    this.targetHSL = target.hsl();\n    this.reusedColor = new Color(0, 0, 0);\n  }\n  _createClass(Solver, [{\n    key: \"solve\",\n    value: function solve() {\n      var result = this.solveNarrow(this.solveWide());\n      return {\n        values: result.values,\n        loss: result.loss,\n        filter: this.css(result.values)\n      };\n    }\n  }, {\n    key: \"solveWide\",\n    value: function solveWide() {\n      var A = 5;\n      var c = 15;\n      var a = [60, 180, 18000, 600, 1.2, 1.2];\n      var best = {\n        loss: Infinity\n      };\n      for (var i = 0; best.loss > 25 && i < 3; i++) {\n        var initial = [50, 20, 3750, 50, 100, 100];\n        var result = this.spsa(A, a, c, initial, 1000);\n        if (result.loss < best.loss) {\n          best = result;\n        }\n      }\n      return best;\n    }\n  }, {\n    key: \"solveNarrow\",\n    value: function solveNarrow(wide) {\n      var A = wide.loss;\n      var c = 2;\n      var A1 = A + 1;\n      var a = [0.25 * A1, 0.25 * A1, A1, 0.25 * A1, 0.2 * A1, 0.2 * A1];\n      return this.spsa(A, a, c, wide.values, 500);\n    }\n  }, {\n    key: \"spsa\",\n    value: function spsa(A, a, c, values, iters) {\n      var alpha = 1;\n      var gamma = 0.16666666666666666;\n      var best = null;\n      var bestLoss = Infinity;\n      var deltas = new Array(6);\n      var highArgs = new Array(6);\n      var lowArgs = new Array(6);\n      for (var k = 0; k < iters; k++) {\n        var ck = c / Math.pow(k + 1, gamma);\n        for (var i = 0; i < 6; i++) {\n          deltas[i] = Math.random() > 0.5 ? 1 : -1;\n          highArgs[i] = values[i] + ck * deltas[i];\n          lowArgs[i] = values[i] - ck * deltas[i];\n        }\n        var lossDiff = this.loss(highArgs) - this.loss(lowArgs);\n        for (var _i = 0; _i < 6; _i++) {\n          var g = lossDiff / (2 * ck) * deltas[_i];\n          var ak = a[_i] / Math.pow(A + k + 1, alpha);\n          values[_i] = fix(values[_i] - ak * g, _i);\n        }\n        var loss = this.loss(values);\n        if (loss < bestLoss) {\n          best = values.slice(0);\n          bestLoss = loss;\n        }\n      }\n      return {\n        values: best,\n        loss: bestLoss\n      };\n      function fix(value, idx) {\n        var max = 100;\n        if (idx === 2 /* saturate */) {\n          max = 7500;\n        } else if (idx === 4 /* brightness */ || idx === 5 /* contrast */) {\n          max = 200;\n        }\n        if (idx === 3 /* hue-rotate */) {\n          if (value > max) {\n            value %= max;\n          } else if (value < 0) {\n            value = max + value % max;\n          }\n        } else if (value < 0) {\n          value = 0;\n        } else if (value > max) {\n          value = max;\n        }\n        return value;\n      }\n    }\n  }, {\n    key: \"loss\",\n    value: function loss(filters) {\n      // Argument is array of percentages.\n      var color = this.reusedColor;\n      color.set(0, 0, 0);\n      color.invert(filters[0] / 100);\n      color.sepia(filters[1] / 100);\n      color.saturate(filters[2] / 100);\n      color.hueRotate(filters[3] * 3.6);\n      color.brightness(filters[4] / 100);\n      color.contrast(filters[5] / 100);\n      var colorHSL = color.hsl();\n      return Math.abs(color.r - this.target.r) + Math.abs(color.g - this.target.g) + Math.abs(color.b - this.target.b) + Math.abs(colorHSL.h - this.targetHSL.h) + Math.abs(colorHSL.s - this.targetHSL.s) + Math.abs(colorHSL.l - this.targetHSL.l);\n    }\n  }, {\n    key: \"css\",\n    value: function css(filters) {\n      function fmt(idx) {\n        var multiplier = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n        return Math.round(filters[idx] * multiplier);\n      }\n      return \"invert(\".concat(fmt(0), \"%) sepia(\").concat(fmt(1), \"%) saturate(\").concat(fmt(2), \"%) hue-rotate(\").concat(fmt(3, 3.6), \"deg) brightness(\").concat(fmt(4), \"%) contrast(\").concat(fmt(5), \"%)\");\n    }\n  }]);\n  return Solver;\n}();\n\n\n//# sourceURL=webpack://BW/./src/js/FilterGenerator.js?");

/***/ }),

/***/ "./src/bw.scss":
/*!*********************!*\
  !*** ./src/bw.scss ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://BW/./src/bw.scss?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/bw.js");
/******/ 	window.BW = __webpack_exports__["default"];
/******/ 	
/******/ })()
;